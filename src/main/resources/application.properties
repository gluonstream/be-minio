spring.application.name=app
spring.docker.compose.enabled=true
spring.main.web-application-type=reactive
spring.docker.compose.lifecycle-management=start_only
spring.docker.compose.start.command=up
spring.http.codecs.max-in-memory-size=300MB

# OAuth2 Resource Server Configuration
spring.security.oauth2.resourceserver.jwt.issuer-uri=${AUTH_EXTERNAL_ISSUER_URI:${SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI:http://localhost:8002/realms/intwork}}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${AUTH_INTERNAL_JWK_SET_URI:${spring.security.oauth2.resourceserver.jwt.issuer-uri}/protocol/openid-connect/certs}
server.forward-headers-strategy=native

# R2DBC Configuration for PostgreSQL
spring.r2dbc.url=r2dbc:postgresql://localhost:5432/appdb
spring.r2dbc.username=appuser
spring.r2dbc.password=apppass

# Liquibase Configuration (uses R2DBC)
spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml

#MinIO Bucket Storage Configuration
minio.external-url= ${MINIO_EXTERNAL_URL:${MINIO_URL:http://localhost:9000}}
minio.internal-url= ${MINIO_INTERNAL_URL:${MINIO_URL:http://localhost:9000}}
minio.url= ${MINIO_URL:http://localhost:9000}
minio.access-key= ${MINIO_ACCESS_KEY:minioadmin}
minio.secret-key= ${MINIO_SECRET_KEY:minioadmin}
minio.bucket-name= ${MINIO_BUCKET_NAME:iaka-documents}

# Actuator Health Probes
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true
